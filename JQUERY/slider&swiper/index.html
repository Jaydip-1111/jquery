<!doctype html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Slick: Responsive & Flexible Slider Carousel Plugin Examples</title>
  <meta charset="UTF-8">
  <link rel="stylesheet" type="text/css" href="./plugin/slick/slick.css?v2022">
  <link rel="stylesheet" type="text/css" href="./plugin/slick/slick-theme.css?v2022">
  <link href="https://www.jqueryscript.net/css/jquerysctipttop.css" rel="stylesheet" type="text/css">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Swiper/5.4.5/css/swiper.min.css" integrity="sha512-uCQmAoax6aJTxC03VlH0uCEtE0iLi83TW1Qh6VezEZ5Y17rTrIE+8irz4H4ehM7Fbfbm8rb30OkxVkuwhXxrRg==" crossorigin="anonymous" />
	<link rel="stylesheet" href="./plugin/swiper/css/demo.css">
  <style type="text/css">
    html, body {
      margin: 0;
      padding: 0;
    }

    * {
      box-sizing: border-box;
    }
    html,* { font-family: 'Inter'; }
body { background-color: #4B5563; line-height:1.6; color: #fff;}
.lead { font-size: 1.5rem; font-weight: 300; }
.container { margin: 50px auto; max-width: 960px; }

    .slider {
        width: 100%;
        margin: 50px auto;
    }

    .slick-slide {
      margin: 0px 20px;
    }

    .slick-slide img {
      width: 100%;
    }

    .slick-prev:before,
    .slick-next:before {
      color: black;
    }


    .slick-slide {
      transition: all ease-in-out .3s;
      opacity: .2;
    }
    
    .slick-active {
      opacity: .5;
    }

    .slick-current {
      opacity: 1;
    }
    .img{
            height: 200px;
            width: 200px;
    }
    .image{
            height: 300px;
            width: 300px;
    }
  </style>
</head>
<body>
  <div class="container">
    <h2>Basic</h2>
  <section class="regular slider">
    <div>
      <img src="img1.jpg" class="img">
    </div>
    <div>
      <img src="img2.jpg" class="img">
    </div>
    <div>
      <img src="img3.jpg" class="img">
    </div>
    <div>
      <img src="img4.jpg" class="img">
    </div>
    <div>
      <img src="img5.jpg" class="img">
    </div>
    <div>
      <img src="img6.jpg" class="img">
    </div>
  </section>
  <h2>Variable Width</h2>
  <section class="variable slider">
    <div>
      <img src="s1.jpg" class="image">
    </div>
    <div>
      <img src="s2.jpg" class="image">
    </div>
    <div>
      <img src="s3.jpg" class="image">
    </div>
    <div>
      <img src="s4.jpg" class="image">
    </div>
    <div>
      <img src="s5.jpg" class="image">
    </div>
    <div>
      <img src="s6.jpg" class="image">
    </div>
  </section>
  
</div>

<h1>Multiple Parallax Slider Example</h1>
<div class="multi-px-slider loading">

	<div class="swiper-container lg-slider">
		<div class="swiper-wrapper">
			<div class="swiper-slide">
				<div class="mps-slide">
					<div class="mps-img img-lg"><img data-src="img1.jpg" alt="" class="swiper-lazy object-fit"></div>
					<div class="swiper-lazy-preloader"></div>
				</div>
			</div>
			<div class="swiper-slide">
				<div class="mps-slide">
					<div class="mps-img img-lg"><img data-src="img2.jpg" alt="" class="swiper-lazy object-fit"></div>
					<div class="swiper-lazy-preloader"></div>
				</div>
			</div>
			<div class="swiper-slide">
				<div class="mps-slide">
					<div class="mps-img img-lg"><img data-src="img3.jpg" alt="" class="swiper-lazy object-fit"></div>
					<div class="swiper-lazy-preloader"></div>
				</div>
			</div>
		</div>
		<div class="pattern-2" data-swiper-parallax="-50%"></div>
	</div>

	<div class="swiper-container sm-slider">
		<div class="swiper-wrapper">
            <div class="swiper-slide">
                <div class="mps-slide">
                    <div class="mps-img img-sm"><img data-src="img4.jpg" alt="" class="swiper-lazy object-fit"></div>
                    <div class="swiper-lazy-preloader"></div>
                </div>
            </div>
            <div class="swiper-slide">
                <div class="mps-slide">
                    <div class="mps-img img-sm"><img data-src="img5.jpg" alt="" class="swiper-lazy object-fit"></div>
                    <div class="swiper-lazy-preloader"></div>
                </div>
            </div>
            <div class="swiper-slide">
                <div class="mps-slide">
                    <div class="mps-img img-sm"><img data-src="img6.jpg" alt="" class="swiper-lazy object-fit"></div>
                    <div class="swiper-lazy-preloader"></div>
                </div>
            </div>
		</div>
	</div>

	<button type="button" class="mps-arrow mps-prev" aria-label="Previous">Previous</button>
	<button type="button" class="mps-arrow mps-next" aria-label="Next">Next</button>

	<div class="curtain"></div>

</div>

  <script src="https://code.jquery.com/jquery-3.6.0.min.js" type="text/javascript"></script>
  <script src="https://code.jquery.com/jquery-migrate-3.4.0.min.js"></script>
  <script src="./plugin/slick/slick.js?v2022" type="text/javascript" charset="utf-8"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/Swiper/5.4.5/js/swiper.min.js" integrity="sha512-VHsNaV1C4XbgKSc2O0rZDmkUOhMKPg/rIi8abX9qTaVDzVJnrDGHFnLnCnuPmZ3cNi1nQJm+fzJtBbZU9yRCww==" crossorigin="anonymous"></script>
  <script type="text/javascript">
    $(document).on('ready', function() {
      $(".vertical-center-4").slick({
        dots: true,
        vertical: true,
        centerMode: true,
        slidesToShow: 4,
        slidesToScroll: 2
      });
      $(".vertical-center-3").slick({
        dots: true,
        vertical: true,
        centerMode: true,
        slidesToShow: 3,
        slidesToScroll: 3
      });
      $(".vertical-center-2").slick({
        dots: true,
        vertical: true,
        centerMode: true,
        slidesToShow: 2,
        slidesToScroll: 2
      });
      $(".vertical-center").slick({
        dots: true,
        vertical: true,
        centerMode: true,
      });
      $(".vertical").slick({
        dots: true,
        vertical: true,
        slidesToShow: 3,
        slidesToScroll: 3
      });
      $(".regular").slick({
        dots: true,
        infinite: true,
        slidesToShow: 3,
        slidesToScroll: 3
      });
      $(".center").slick({
        dots: true,
        infinite: true,
        centerMode: true,
        slidesToShow: 5,
        slidesToScroll: 3
      });
      $(".variable").slick({
        dots: true,
        infinite: true,
        variableWidth: true
      });
      $(".lazy").slick({
        lazyLoad: 'ondemand', // ondemand progressive anticipated
        infinite: true
      });
    });
</script>

<script>
  // Params
  const mpSlider = document.querySelector('.multi-px-slider');
  let interleaveOffset = 0.5;

  // init small slider
  const smallSlider = new Swiper('.sm-slider', {
    touchRatio: 0, // disable swipe
      loop: true,
      slidesPerView: 'auto',
      preloadImages: false,
      lazy: {
          loadPrevNext: true,
    loadPrevNextAmount: 2,
      },
      watchSlidesProgress: true,
      watchSlidesVisibility: true,
      on: {
          init: function(){
              let swiper = this;
          },
          lazyImageReady: function(){
              let swiper = this;

              setTimeout(function() {
                  swiper.update();
              }, 500);
          },
          progress: function(){
              let swiper = this;
              for (let i = 0; i < swiper.slides.length; i++) {
                  let slideProgress = swiper.slides[i].progress,
                      innerOffset = swiper.width * interleaveOffset,
                      innerTranslate = slideProgress * innerOffset;
                  swiper.slides[i].querySelector(".img-sm").style.transform = "translateX(" + innerTranslate + "px)";
              }
          },
          touchStart: function() {
              let swiper = this;
              for (let i = 0; i < swiper.slides.length; i++) {
                  swiper.slides[i].style.transition = "";
              }
          },
          setTransition: function(speed) {
              let swiper = this;
              for (let i = 0; i < swiper.slides.length; i++) {
                  swiper.slides[i].style.transition = speed + "ms";
                  swiper.slides[i].querySelector(".img-sm").style.transition = speed + "ms";
              }
          }
      }
  });


  // init large slider
  const largeSlider = new Swiper('.lg-slider', {
    parallax: true,
      loop: true,
      speed: 2000,
      slidesPerView: 'auto',
      preloadImages: false,
      lazy: {
          loadPrevNext: true,
    loadPrevNextAmount: 2,
      },
      watchSlidesProgress: true,
      watchSlidesVisibility: true,
      touchEventsTarget: 'wrapper',
      controller: {
        control: smallSlider
      },
      on: {
          init: function(){
              let swiper = this;
          },
          lazyImageReady: function(){
              let swiper = this;

              setTimeout(function() {
                  swiper.update();
                  mpSlider.classList.remove('loading');
              }, 500);
          },
          progress: function(){
              let swiper = this;
              for (let i = 0; i < swiper.slides.length; i++) {
                  let slideProgress = swiper.slides[i].progress,
                      innerOffset = swiper.width * interleaveOffset,
                      innerTranslate = slideProgress * innerOffset;
                  swiper.slides[i].querySelector(".img-lg").style.transform = "translateX(" + innerTranslate + "px)";
              }
          },
          touchStart: function() {
              let swiper = this;
              for (let i = 0; i < swiper.slides.length; i++) {
                  swiper.slides[i].style.transition = "";
              }
          },
          setTransition: function(speed) {
              let swiper = this;
              for (let i = 0; i < swiper.slides.length; i++) {
                  swiper.slides[i].style.transition = speed + "ms";
                  swiper.slides[i].querySelector(".img-lg").style.transition = speed + "ms";
              }
          }
      }
  });


  // Set up animations
  let slideDelay = 2000;
  let $mpsArrow = $('.mps-arrow');

  function runAnimation() {
    mpSlider.classList.add('is-animating');
  }

  function endAnimation() {
  mpSlider.classList.remove('is-animating');
  }


  // custom arrows
$mpsArrow.each((i, el) => {
  const _this = $(el);

   _this.on('click', function() {

       // disable arrows
       $mpsArrow.prop('disabled', true);
       // run animation
       runAnimation();

       // go to prev/next slide
       if (_this.hasClass('mps-prev')) {
         setTimeout(() => {
        largeSlider.slidePrev();
         }, slideDelay)
       } else if (_this.hasClass('mps-next')) {
         setTimeout(() => {
        largeSlider.slideNext();
         }, slideDelay)
       }

       // detect animation end
       const curtain = document.querySelector('.curtain');
       curtain.addEventListener('animationend', () => {
         // re-enable arrows
      $mpsArrow.prop('disabled', false);
      // end animation
      endAnimation();
       });

   })

})


 // TO DO: check if slider is in viewport?
 let mpsInViewport = true;

 if (mpsInViewport) {
  $(document).off('keyup').on('keyup', function(e) {
       if (e.keyCode == '37') {
         $('.mps-prev').trigger('click');
       } else if (e.keyCode == '39') {
         $('.mps-next').trigger('click');
       }
   });
 }



</script>
</body>
</html>
